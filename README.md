# Backend application for banking
## Description

A demo backend for an online banking application, developed as a university assignment. The project demonstrates key backend technologies and architecture principles using Python and FastAPI.
This is a clean, production-ready version of the [original university group project](https://github.com/ChaichanaTeam/bankrupt_back)

### Features

- Email sending system via SMTP
- User registration with email verification
- Two-factor authentication via email
- JWT-based authentication
- Card generation and balance management
- Transfer history tracking
- Saving accounts with goal setting
- Bill creation and payment

### Authors

- [ndmytryshyn5](https://github.com/ndmytryshyn5)  
- [os3k1mtr1l](https://github.com/os3k1mtr1l)  

**Frontend implementation:**  
[Frontend GitHub Repository](https://github.com/GormanProg123/Bankrupt)

- [GormanProg123](https://github.com/GormanProg123)  
- [ProbablyNoth1ng](https://github.com/ProbablyNoth1ng)  

---

## Documentation
The following files are available for deeper understanding and testing:

- [postman_collection.json](docs/Bankrupt_API.postman_collection.json) — Postman requests collection

- [openapi.json](docs/openapi.json) - Pre-downloaded Swagger-UI file

- [docs.pdf](docs/API_documentation.pdf) — Technical documentation and architecture overview. Generated with `redoc`, pre-installed with `FastAPI`

- [last_report](docs/last_report.html) - Report generated by pytest. Check [test](#testing) 

- OpenAPI documentation is also available on /docs and /redoc endpoints
---

## Requirements

All dependencies are listed in [requirements.txt](requirements.txt)

- Python 3.12+
- pip 3.12+
- [FastAPI](https://fastapi.tiangolo.com/)
- [SQLAlchemy](https://www.sqlalchemy.org/)
- [SQLite](https://www.sqlite.org/)
- [uvicorn](https://www.uvicorn.org/)
- [pydantic](https://docs.pydantic.dev/latest/)
- [passlib[bcrypt]](https://passlib.readthedocs.io/en/stable/ )
- [python-dotenv](https://pypi.org/project/python-dotenv/)
- [python-jose[cryptography]](https://python-jose.readthedocs.io/en/latest/)
- [python-multipart]( https://andrew-d.github.io/python-multipart/)
- [jinja2](https://jinja.palletsprojects.com/)
- [pytest](https://pypi.org/project/pytest/)
- [requests](https://pypi.org/project/requests/)
- [pytest-order](https://pypi.org/project/pytest-order/)
- [pytest-html](https://pypi.org/project/pytest-html/)

---


## Launching

### Deployment (Render)
This project is configured to run on [Render.com](https://render.com/).
You can use the included [render.yaml](render.yaml) file for automated deployment.

Server variables:

```env
SECRET_KEY=your-super-secret-key
EMAIL=your.email@gmail.com
EMAIL_PASSWORD=your-app-password
FRONTEND_LINK=http://localhost:3000
DEBUG=True
```

### Local run

```bash
git clone https://github.com/ndmytryshyn5/bank_back
cd bank_back
python -m venv venv
source venv/bin/activate  # or .\venv\Scripts\activate on Windows
pip install -r requirements.txt
```

Create in root folder .env and file var.env with containment of

```env
SECRET_KEY=your-super-secret-key
EMAIL=your.email@gmail.com
EMAIL_PASSWORD=your-app-password
FRONTEND_LINK=http://localhost:3000
DEBUG=True
```

Project was runned and tested with uvicorn ASGI web server. Being in project root type (with uvicorn installed)

```bash
uvicorn src.main:app --reload
```

### Testing

Repository has folder [tests](tests/) in which tests for logic is located. Before running tests run the local web server.
Raport will generate into [docs/](docs/) folder

Command for running tests from root (or use bat script):
```bash
pytest tests/test_main.py -v -s --html=docs/last_report.html --capture=tee-sys
```

---

## License
Codebase: [License](LICENSE)